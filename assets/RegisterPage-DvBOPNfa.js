import{_ as h,r as i,c as k,a as p,b as s,w as r,u as P,o as z,E as B,e as n,f as _,g as C,l as g,h as F}from"./index-CspVYnNq.js";import{E as q}from"./el-card-DnVpaAXS.js";import{E as I,a as N,b as R,c as T,r as U,d as L}from"./auth-CzanIOoI.js";const M={class:"auth-page"},$={class:"auth-container"},j={class:"auth-header"},A={class:"auth-footer"},D={__name:"RegisterPage",setup(G){const c=P(),f=i(null),o=i({username:"",password:"",confirmPassword:""}),w=i({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,message:"用户名长度不能小于4位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(l,e,a)=>{e!==o.value.password?a(new Error("两次输入密码不一致")):a()},trigger:"blur"}]}),d=i(!1),v=async()=>{try{await f.value.validate(),d.value=!0;const l=await U(o.value);L.success(l.msg),c.push("/login")}catch(l){console.error(l)}finally{d.value=!1}},x=()=>{c.push("/login")};return(l,e)=>{const a=B,m=R,u=N,E=T,b=I,V=F,y=q;return z(),k("div",M,[p("div",$,[s(y,{class:"auth-card",shadow:"hover"},{default:r(()=>[p("div",j,[s(a,{class:"title",tag:"b",size:"large"},{default:r(()=>e[3]||(e[3]=[n("注册")])),_:1,__:[3]}),s(a,{class:"subtitle",size:"small"},{default:r(()=>e[4]||(e[4]=[n("创建新账户，开启您的旅程")])),_:1,__:[4]})]),s(b,{model:o.value,rules:w.value,ref_key:"registerForm",ref:f,class:"auth-form"},{default:r(()=>[s(u,{prop:"username"},{default:r(()=>[s(m,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.username=t),placeholder:"用户名","prefix-icon":_(C),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"password"},{default:r(()=>[s(m,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.password=t),type:"password",placeholder:"密码","prefix-icon":_(g),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,{prop:"confirmPassword"},{default:r(()=>[s(m,{modelValue:o.value.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.confirmPassword=t),type:"password",placeholder:"确认密码","prefix-icon":_(g),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),s(u,null,{default:r(()=>[s(E,{type:"primary",size:"large",onClick:v,loading:d.value,class:"auth-button"},{default:r(()=>e[5]||(e[5]=[n(" 注册 ")])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),p("div",A,[s(a,null,{default:r(()=>e[6]||(e[6]=[n(" 已有账户？ ")])),_:1,__:[6]}),s(V,{type:"primary",onClick:x},{default:r(()=>e[7]||(e[7]=[n("立即登录")])),_:1,__:[7]})])]),_:1})])])}}},O=h(D,[["__scopeId","data-v-4c63b746"]]);export{O as default};
